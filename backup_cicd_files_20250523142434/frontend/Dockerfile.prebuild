# 預構建版本 Dockerfile - 僅部署階段
FROM nginx:alpine

# 複製預構建的文件 (需要先在本地構建)
COPY ./dist /usr/share/nginx/html

# 直接拷貝 nginx 配置
COPY ./nginx.conf /etc/nginx/conf.d/default.conf

# 設置 MIME 類型 (如果需要)
RUN echo "include /etc/nginx/mime.types;" >> /etc/nginx/conf.d/default.conf

# 清除 VOLUME 相關
RUN rm -rf /var/cache/nginx

EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
